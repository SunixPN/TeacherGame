!function(){"use strict";const e=e=>{const n=e.target.previousElementSibling.textContent;let a=JSON.parse(localStorage.getItem("tasks"));a=a.filter((e=>e.id!==Number(n))),localStorage.setItem("tasks",JSON.stringify(a)),e.target.parentElement.classList.add("task--out"),setTimeout(t,300)},t=()=>{const t=document.querySelector(".tasks__box"),n=JSON.parse(localStorage.getItem("tasks"));0===n.length?t.innerHTML='<p class="task__empty">Здесь пока пусто! Добавьте несколько задач</p>':(t.innerHTML="",n.forEach((e=>{t.innerHTML+=`\n            <article class="task">\n                <div class="task__title-box">\n                    <h3 class="task__title">Задание</h3>\n                    <p class="task__value">${e.value}</p>\n                </div>\n                <span class="hidden">${e.id}</span>\n                <button class="task__button">Удалить задачу</button>\n            </article>\n            `})));const a=document.querySelectorAll(".task__button");a&&a.forEach((t=>{t.addEventListener("click",e)}))},n=e=>{e.preventDefault();const n=e.target.previousElementSibling,a=JSON.parse(localStorage.getItem("tasks"));a.push({value:n.value,id:Date.now()}),localStorage.setItem("tasks",JSON.stringify(a)),n.value="",t()},a=e=>{const t=e.target.previousElementSibling.textContent;let n=JSON.parse(localStorage.getItem("teams"));n=n.filter((e=>e.id!==Number(t))),localStorage.setItem("teams",JSON.stringify(n)),e.target.parentElement.classList.add("task--out"),setTimeout(s,300)},s=()=>{const e=document.querySelector(".teams__box"),t=JSON.parse(localStorage.getItem("teams"));e.innerHTML="",0===t.length?e.innerHTML='<p class="teams__box-epmty">Здесь пока пусто! Добавьте пару команд, чтобы начать игру</p>':t.forEach((t=>{e.innerHTML+=`\n            <article class="kid">\n                <p class="kid__name">${t.name}</p>\n                <span class="hidden">${t.id}</span>\n                <button class="kid__del-button">Удалить</button>\n            </article>\n            `}));const n=document.querySelectorAll(".kid__del-button");n&&n.forEach((e=>{e.addEventListener("click",a)}))};Array.prototype.mutationFilter=function(e){for(let t=0;t<this.length;t++)e(this[t])||this.splice(t,1)},document.addEventListener("DOMContentLoaded",(()=>{(()=>{if(!sessionStorage.getItem("kids")){const e=[{id:1,name:"Акулич Александра"},{id:2,name:"Алексеева Александра"},{id:3,name:"Бардиловский Мирослав"},{id:4,name:"Бондарчик Полина"},{id:5,name:"Бородкин Михаил"},{id:6,name:"Борозна Александра"},{id:7,name:"Бурак Денис"},{id:8,name:"Галимская Виктория"},{id:9,name:"Гончарова Ангелина"},{id:10,name:"Долинский Иван"},{id:11,name:"Заболотец Маргарита"},{id:12,name:"Зенченко Вера "},{id:13,name:"Ивашкевич Алексей"},{id:14,name:"Казак Евгения"},{id:15,name:"Касперович Максим"},{id:16,name:"Кийков Андрей "},{id:17,name:"Кононок Илья"},{id:18,name:"Кочеревская Карина"},{id:19,name:"Матюшонок Кирилл"},{id:20,name:"Мацукевич Виктория"},{id:21,name:"Мацукевич Евгения"},{id:22,name:"Метельская София"},{id:23,name:"Минаев Иван"},{id:24,name:"Новик Юлия"},{id:25,name:"Полугодков Тимофей"},{id:26,name:"Федосенко Никита"},{id:27,name:"Филиппов Егор"},{id:28,name:"Черник Лидия"},{id:29,name:"Шпаглов Матвей"},{id:30,name:"Ямшанова Ульяна"}];sessionStorage.setItem("kids",JSON.stringify(e))}localStorage.getItem("tasks")||localStorage.setItem("tasks",JSON.stringify([])),localStorage.getItem("teams")||localStorage.setItem("teams",JSON.stringify([]))})(),t(),document.querySelector(".tasks__button").addEventListener("click",n),(()=>{const e=document.querySelector(".team__button"),t=document.querySelector(".modal"),n=document.querySelector(".modal-team__winners"),a=document.querySelector(".modal__exit");let i={count:0},o=[];s(),e.addEventListener("click",(()=>{t.classList.remove("modal--hidden"),((e,t,n,a)=>{const i=document.querySelector(".modal-team__button"),o=document.querySelector(".modal__input"),l=JSON.parse(sessionStorage.getItem("kids")),d=JSON.parse(localStorage.getItem("teams"));a.splice(0,a.length),e.innerHTML="",n.count+=1;const r=[];d.forEach((e=>{e.kids.forEach((e=>{r.push(e)}))}));const m=l.filter((e=>!r.some((t=>t.id===e.id))));0===m.length&&(e.innerHTML+='\n            <p class="modal__team-empty">Упс! Здесь пока пусто. Удалите команду либо добавьте ещё детей в свой список!</p>\n        '),m.forEach((t=>{e.innerHTML+=`\n        <div class="modal__kid-box">\n            <p class="modal__kid-name">${t.name}</p>\n            <span class="hidden">${t.id}</span>\n            <button class="modal__kid-button">Добавить</button>\n        </div>\n        `})),document.querySelectorAll(".modal__kid-button").forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.contains("modal__kid-button--active")?(a.mutationFilter((t=>t.id!==Number(e.target.previousElementSibling.textContent))),e.target.textContent="Добавить"):(a.push({id:Number(e.target.previousElementSibling.textContent),name:e.target.previousElementSibling.previousElementSibling.textContent}),e.target.textContent="Добавлен"),e.target.classList.toggle("modal__kid-button--active")}))})),1===n.count&&i.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("teams"));e.push({id:Date.now(),name:o.value,kids:a}),localStorage.setItem("teams",JSON.stringify(e)),t.classList.add("modal--hidden"),o.value="",s()}))})(n,t,i,o)})),a.addEventListener("click",(()=>{t.classList.add("modal--hidden")}))})()}))}();